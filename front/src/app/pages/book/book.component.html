<img [src]="book.cover" class="book-background" />
<div class="book">
	<div class="book-header">
		<div class="book-cover">
			<img [src]="book.cover" />
		</div>
		<div class="book-info">
			<div class="top">
				<h1>{{ book.title }}</h1>
				<h6>
					{{ getAuthorNames() }}
				</h6>
			</div>
			<div class="bottom">
				<div>{{ getMaxChapterIndex() }} Capitulos</div>
				<div>Lan√ßamento {{ book.publication }}</div>
			</div>
		</div>
	</div>
	<div class="book-info-plus">
		<div class="tags">
			@for(content of book.sensitiveContent; track content) {
			<span class="sensitive">{{ content.name }}</span>
			} @for(tag of book.tags; track tag.name) {
			<span class="tag">{{ tag.name }}</span>
			}
		</div>
		<p class="book-description">{{ book.description }}</p>
	</div>
</div>
<div class="chapters">
	@for(chapter of book.chapters; track chapter.id) {
	<a [routerLink]="[chapter.id]" class="chapter">
		<div class="title">
			<h2>capitulo {{ chapter.index | number }}</h2>
			@if(chapter.title){
			<h3>{{ chapter.title }}</h3>
			}
		</div>
		<div class="metadata">
			<div class="read">
				<app-icons
					[name]="chapter.read ? 'eye' : 'eye-close'"
					[ngClass]="{ read: chapter.read }"
				/>
			</div>
			<div
				class="scraping-status"
				[ngClass]="{
					scrapingStatusReady:
						chapter.scrapingStatus === ScrapingStatus.READY,
					scrapingStatusProcessing:
						chapter.scrapingStatus === ScrapingStatus.PROCESSING,
					scrapingStatusError:
						chapter.scrapingStatus === ScrapingStatus.ERROR
				}"
			>
				{{ getScrapingStatusClass(chapter.scrapingStatus) }}
			</div>
		</div>
	</a>
	}
</div>
