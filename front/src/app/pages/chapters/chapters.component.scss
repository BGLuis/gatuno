.controler {
	display: flex;
	gap: 1rem;
	align-items: center;
	width: 100%;
	height: 50px;
	text-align: center;
	text-transform: capitalize;

	a {
		background-color: var(--primary-color);
		height: 100%;
		display: flex;
		align-items: center;
		justify-content: center;
		border-radius: 10px;
		cursor: pointer;
	}
	.index {
		width: 100%;
		font-size: 2.2rem;
	}
	.arrow {
		flex: none;
		width: 3rem;
		height: 3rem;

		border-radius: 15px;
	}

	.settings-btn {
		flex: none;
		width: 3rem;
		height: 3rem;
		background-color: var(--secondary-color, #6b7280);
		border: none;
		border-radius: 15px;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		transition: all 0.2s;

		&:hover {
			background-color: var(--secondary-color-hover, #4b5563);
			transform: scale(1.05);
		}

		&:active {
			transform: scale(0.95);
		}

		app-icons {
			color: var(--icon-color, white);
		}
	}
}

.header {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.5rem;
	padding: 1rem;
	max-width: 1200px;
	margin: auto auto;
	margin-bottom: 2rem;
	padding-top: 30px;

	.title {
		line-height: 2.8rem;
		text-align: center;
		h1 {
			font-size: 2.5rem;
			font-weight: lighter;
			margin: 0;
		}
		h2 {
			font-size: 1.4rem;
			font-weight: 400;
		}
	}
}

.pages {
	margin: auto auto;
	display: flex;
	max-width: 1200px;
	flex-direction: column;
	position: relative;

	.reading-progress-bar {
		$space: 10px;
		position: sticky;
		top: $space;
		left: 0;
		right: 0;
		height: 4px;
		margin: 0 $space;
		background-color: rgb(from var(--app-background-color) r g b / 0.4);
		z-index: 1000;
		border-radius: 15px;
		opacity: 0.6;
		overflow: hidden;
		display: flex;
		align-items: center;
		justify-content: space-between;
		transition: height 0.3s, top 0.3s;
		cursor: pointer;
		user-select: none;
		touch-action: none;

		&:hover {
			height: 40px;

			&.bottom {
				top: calc(100% - $space - 40px);
			}
		}

		&.bottom {
			animation-delay: top 4s, height 4s;
			top: calc(100% - $space);
		}

		.reading-progress-fill {
			position: absolute;
			height: 100%;
			background: var(--primary-color);
			transition: width 0.1s ease-out;
			box-shadow: 0 0 10px
				rgb(from var(--app-background-color) r g b / 0.5);
			border-radius: inherit;
		}

		span {
			height: 100%;
			width: 100%;
			border-right: 4px solid rgb(from var(--app-text-color) r g b / 0.4);
			color: transparent;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			transition: all 0.3s;
			user-select: none;
			&:hover {
				background-color: var(--primary-color);
				color: var(--app-text-color);
			}

			&:last-child {
				border-right: none;
			}
		}
	}

	img {
		width: 100%;
		flex: none;
		height: auto;
		user-select: none;
		-webkit-user-drag: none;
	}

	.btn-top {
		position: fixed;
		bottom: 1rem;
		right: 1rem;
		background-color: var(--primary-color);
		border-radius: 50%;
		width: 3rem;
		height: 3rem;
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 0;
		transition: 0.3s ease-in-out;
		pointer-events: none;

		&.show {
			opacity: 1;
			transform: translateY(0) scale(1);
			cursor: pointer;
			pointer-events: auto;
		}
	}
}

.footer {
	.next {
		background-color: var(--primary-color);
		text-align: center;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		cursor: pointer;
		height: 50px;
	}
}

.shortcuts-mobile-pages {
	position: absolute;
	height: 100vh;
	width: 50%;

	.extension {
		position: absolute;
		bottom: 0;
		width: 200%;
		height: 50%;
		right: 0;
	}
}

.next-chapter {
	right: 0;
	bottom: 0;
}
.last-chapter {
	left: 0;
	top: 0;
	.extension {
		left: 0;
		top: 0;
	}
}

app-aside {
	.controler {
		height: 2rem;

		.arrow {
			width: 2rem;
			height: 2rem;
		}
		.index {
			font-size: 1.2rem;
		}
	}
	.title {
		margin-bottom: 1rem;
	}
	h1 {
		display: inline-flex;
		font-size: 1.2rem;
		line-height: 1.7rem;
		font-weight: lighter;
		gap: 0.5rem;
		text-decoration: underline;
	}
	.line {
		width: 90%;
		height: 3px;
		border-radius: 9999999px;
		background-color: var(--app-text-color);
		margin: 1rem auto;
	}
	.actions {
		display: flex;
		flex-direction: column;
		gap: 0.6rem;
	}

	.button {
		display: flex;
		justify-content: center;
		align-items: center;
		margin: 10px 0;
		button {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 2rem;
			height: 2rem;
			background-color: transparent;
			border: none;
			outline: none;
			cursor: pointer;
		}
	}
	app-button {
		width: 100%;
		margin-bottom: 0.4rem;
		font-size: 1.4rem;
	}
}

.pages {
	position: relative;

	&.grayscale-filter {
		filter: grayscale(100%);
		-webkit-filter: grayscale(100%);
	}
}

.page-container {
	position: relative;
	display: inline-block;
	width: 100%;

	img {
		width: 100%;
		display: block;
	}

	.page-number {
		position: absolute;
		bottom: 10px;
		right: 10px;
		background: rgba(0, 0, 0, 0.75);
		color: white;
		padding: 6px 12px;
		border-radius: 6px;
		font-size: 14px;
		font-weight: 500;
		backdrop-filter: blur(4px);
		z-index: 10;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
		pointer-events: none;
	}
}

@media (max-width: 768px) {
	.page-container {
		.page-number {
			bottom: 8px;
			right: 8px;
			padding: 4px 8px;
			font-size: 12px;
		}
	}

	.controler .settings-btn {
		width: 2.5rem;
		height: 2.5rem;

		app-icons {
			font-size: 24px;
		}
	}
}

@media (prefers-color-scheme: dark) {
	.page-container {
		.page-number {
			background: rgba(17, 24, 39, 0.85);
		}
	}
}
