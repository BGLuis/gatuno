<div class="modal-content">
  <div class="modal-header">
    <h2>Adicionar Nova Fonte</h2>
    <button class="close-button" (click)="onCancel()" [disabled]="isLoading">
      <app-icons name="close" size="20" />
    </button>
  </div>
  
  <div class="modal-body">
    <div class="form-group">
      <app-input 
        type="text"
        id="sourceUrl"
        [(ngModel)]="newUrl"
        placeholder="URL da Fonte"
        (blur)="validateUrl()"
        (keyup.enter)="onSave()"
        [disabled]="isLoading"
        leftIcon="globe"
      />
      @if(urlError) {
        <span class="error">
          <app-icons name="alert-circle" size="16" />
          {{ urlError }}
        </span>
      }
      <span class="help-text">
        Insira a URL completa da fonte original do livro (ex: https://example.com/manga).
      </span>
    </div>
  </div>
  
  <div class="modal-footer">
    <app-button 
      variant="outline" 
      (click)="onCancel()"
      [disabled]="isLoading">
      Cancelar
    </app-button>
    <app-button 
      variant="primary" 
      (click)="onSave()"
      [disabled]="isLoading || !newUrl.trim()">
      @if(isLoading) {
        <span>Adicionando...</span>
      } @else {
        <span>Adicionar</span>
      }
    </app-button>
  </div>
</div>
