@if (currentModal) {
  <div class="modal-backdrop" [class.show]="currentModal.useBackdrop" [style.opacity]="currentModal.backdropOpacity"></div>
  <div class="modal-container">
      <div class="modal-content">
          <button class="close-modal-btn" (click)="closeModal()">×</button>
          
          @if (currentModal.component) {
              <ng-container *ngComponentOutlet="currentModal.component; inputs: currentModal.componentData" />
          } @else {
              <div class="modal-header" [class]="currentModal.type">
                  <h3>{{ currentModal.title }}</h3>
              </div>
              <div class="modal-body">
                  <p>{{ currentModal.description }}</p>
              </div>
              <div class="modal-footer">
                  @for (button of currentModal.buttons; track button.label) {
                      <button [class]="button.type" (click)="button.callback?.()">
                          {{ button.label }}
                      </button>
                  }
              </div>
          }
      </div>
  </div>
}

<div class="overlays-container">
  @for (overlay of overlays(); track overlay.id) {
      <div class="overlay-notification slide-in" [class]="overlay.type">
          <div class="overlay-content">
              @if (overlay.component) {
                  <ng-container *ngComponentOutlet="overlay.component; inputs: overlay.componentData" />
              } @else {
                  <div class="overlay-header">
                      @if (overlay.title) {
                          <strong>{{ overlay.title }}</strong>
                      }
                      <p>{{ overlay.message }}</p>
                  </div>
              }
          </div>
          
          @if (overlay.dismissible) {
              <button class="close-btn" (click)="dismissOverlay(overlay.id)">×</button>
          }
      </div>
  }
</div>